import{j as f,r as q,s as Z,e as V,V as H,W as m,X as Ht,o as it,h as et,Y as kn,J as An,P as Pn}from"./index-2R0cosJf.js";import{c as w,a as Ft,s as U,t as st,p as gt,b as Q,d as Rt,e as Mt,u as Ut,i as Xt,f as Cn,g as Tn,h as Gt,j as tt,k as $n,l as vn,m as In,n as Yt,A as kt,o as At,q as ot,r as Ot,v as Pt,w as Ct,x as rt,y as at,z as Wt,B as lt,C as qt,D as zt,E as Tt,F as Bt,G as Zt,H as wn,I as bn,J as Mn,K as Sn,L as En,M as Nn,N as jn,O as Dn,P as Ln,Q as Hn,R as Fn,S as Rn,T as Un,U as Xn,V as Gn,W as Yn}from"./ChartsWrapper-4BZQxJO_.js";const mt=Math.PI,xt=2*mt,W=1e-6,On=xt-W;function Vt(t){this._+=t[0];for(let n=1,i=t.length;n<i;++n)this._+=arguments[n]+t[n]}function Wn(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Vt;const i=10**n;return function(e){this._+=e[0];for(let o=1,s=e.length;o<s;++o)this._+=Math.round(arguments[o]*i)/i+e[o]}}class qn{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Vt:Wn(n)}moveTo(n,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,i){this._append`L${this._x1=+n},${this._y1=+i}`}quadraticCurveTo(n,i,e,o){this._append`Q${+n},${+i},${this._x1=+e},${this._y1=+o}`}bezierCurveTo(n,i,e,o,s,a){this._append`C${+n},${+i},${+e},${+o},${this._x1=+s},${this._y1=+a}`}arcTo(n,i,e,o,s){if(n=+n,i=+i,e=+e,o=+o,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=e-n,h=o-i,_=a-n,r=l-i,u=_*_+r*r;if(this._x1===null)this._append`M${this._x1=n},${this._y1=i}`;else if(u>W)if(!(Math.abs(r*c-h*_)>W)||!s)this._append`L${this._x1=n},${this._y1=i}`;else{let d=e-a,p=o-l,g=c*c+h*h,C=d*d+p*p,k=Math.sqrt(g),x=Math.sqrt(u),A=s*Math.tan((mt-Math.acos((g+u-C)/(2*k*x)))/2),P=A/x,v=A/k;Math.abs(P-1)>W&&this._append`L${n+P*_},${i+P*r}`,this._append`A${s},${s},0,0,${+(r*d>_*p)},${this._x1=n+v*c},${this._y1=i+v*h}`}}arc(n,i,e,o,s,a){if(n=+n,i=+i,e=+e,a=!!a,e<0)throw new Error(`negative radius: ${e}`);let l=e*Math.cos(o),c=e*Math.sin(o),h=n+l,_=i+c,r=1^a,u=a?o-s:s-o;this._x1===null?this._append`M${h},${_}`:(Math.abs(this._x1-h)>W||Math.abs(this._y1-_)>W)&&this._append`L${h},${_}`,e&&(u<0&&(u=u%xt+xt),u>On?this._append`A${e},${e},0,1,${r},${n-l},${i-c}A${e},${e},0,1,${r},${this._x1=h},${this._y1=_}`:u>W&&this._append`A${e},${e},0,${+(u>=mt)},${r},${this._x1=n+e*Math.cos(s)},${this._y1=i+e*Math.sin(s)}`)}rect(n,i,e,o){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+i}h${e=+e}v${+o}h${-e}Z`}toString(){return this._}}function $t(t){let n=3;return t.digits=function(i){if(!arguments.length)return n;if(i==null)n=null;else{const e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);n=e}return t},()=>new qn(n)}function Jt(t){this._context=t}Jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function vt(t){return new Jt(t)}function Kt(t){return t[0]}function Qt(t){return t[1]}function tn(t,n){var i=w(!0),e=null,o=vt,s=null,a=$t(l);t=typeof t=="function"?t:t===void 0?Kt:w(t),n=typeof n=="function"?n:n===void 0?Qt:w(n);function l(c){var h,_=(c=Ft(c)).length,r,u=!1,d;for(e==null&&(s=o(d=a())),h=0;h<=_;++h)!(h<_&&i(r=c[h],h,c))===u&&((u=!u)?s.lineStart():s.lineEnd()),u&&s.point(+t(r,h,c),+n(r,h,c));if(d)return s=null,d+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:w(+c),l):t},l.y=function(c){return arguments.length?(n=typeof c=="function"?c:w(+c),l):n},l.defined=function(c){return arguments.length?(i=typeof c=="function"?c:w(!!c),l):i},l.curve=function(c){return arguments.length?(o=c,e!=null&&(s=o(e)),l):o},l.context=function(c){return arguments.length?(c==null?e=s=null:s=o(e=c),l):e},l}function zn(t,n,i){var e=null,o=w(!0),s=null,a=vt,l=null,c=$t(h);t=typeof t=="function"?t:t===void 0?Kt:w(+t),n=typeof n=="function"?n:n===void 0?w(0):w(+n),i=typeof i=="function"?i:i===void 0?Qt:w(+i);function h(r){var u,d,p,g=(r=Ft(r)).length,C,k=!1,x,A=new Array(g),P=new Array(g);for(s==null&&(l=a(x=c())),u=0;u<=g;++u){if(!(u<g&&o(C=r[u],u,r))===k)if(k=!k)d=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=u-1;p>=d;--p)l.point(A[p],P[p]);l.lineEnd(),l.areaEnd()}k&&(A[u]=+t(C,u,r),P[u]=+n(C,u,r),l.point(e?+e(C,u,r):A[u],i?+i(C,u,r):P[u]))}if(x)return l=null,x+""||null}function _(){return tn().defined(o).curve(a).context(s)}return h.x=function(r){return arguments.length?(t=typeof r=="function"?r:w(+r),e=null,h):t},h.x0=function(r){return arguments.length?(t=typeof r=="function"?r:w(+r),h):t},h.x1=function(r){return arguments.length?(e=r==null?null:typeof r=="function"?r:w(+r),h):e},h.y=function(r){return arguments.length?(n=typeof r=="function"?r:w(+r),i=null,h):n},h.y0=function(r){return arguments.length?(n=typeof r=="function"?r:w(+r),h):n},h.y1=function(r){return arguments.length?(i=r==null?null:typeof r=="function"?r:w(+r),h):i},h.lineX0=h.lineY0=function(){return _().x(t).y(n)},h.lineY1=function(){return _().x(t).y(i)},h.lineX1=function(){return _().x(e).y(n)},h.defined=function(r){return arguments.length?(o=typeof r=="function"?r:w(!!r),h):o},h.curve=function(r){return arguments.length?(a=r,s!=null&&(l=a(s)),h):a},h.context=function(r){return arguments.length?(r==null?s=l=null:l=a(s=r),h):s},h}class nn{constructor(n,i){this._context=n,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,i){switch(n=+n,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,i,n,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,n,this._y0,n,i);break}}this._x0=n,this._y0=i}}function Bn(t){return new nn(t,!0)}function Zn(t){return new nn(t,!1)}const en={draw(t,n){const i=U(n/gt);t.moveTo(i,0),t.arc(0,0,i,0,st)}},Vn={draw(t,n){const i=U(n/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},sn=U(1/3),Jn=sn*2,Kn={draw(t,n){const i=U(n/Jn),e=i*sn;t.moveTo(0,-i),t.lineTo(e,0),t.lineTo(0,i),t.lineTo(-e,0),t.closePath()}},Qn={draw(t,n){const i=U(n),e=-i/2;t.rect(e,e,i,i)}},ti=.8908130915292852,on=Q(gt/10)/Q(7*gt/10),ni=Q(st/10)*on,ii=-Rt(st/10)*on,ei={draw(t,n){const i=U(n*ti),e=ni*i,o=ii*i;t.moveTo(0,-i),t.lineTo(e,o);for(let s=1;s<5;++s){const a=st*s/5,l=Rt(a),c=Q(a);t.lineTo(c*i,-l*i),t.lineTo(l*e-c*o,c*e+l*o)}t.closePath()}},ft=U(3),si={draw(t,n){const i=-U(n/(ft*3));t.moveTo(0,i*2),t.lineTo(-ft*i,-i),t.lineTo(ft*i,-i),t.closePath()}},D=-.5,L=U(3)/2,yt=1/U(12),oi=(yt/2+1)*3,ri={draw(t,n){const i=U(n/oi),e=i/2,o=i*yt,s=e,a=i*yt+i,l=-s,c=a;t.moveTo(e,o),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(D*e-L*o,L*e+D*o),t.lineTo(D*s-L*a,L*s+D*a),t.lineTo(D*l-L*c,L*l+D*c),t.lineTo(D*e+L*o,D*o-L*e),t.lineTo(D*s+L*a,D*a-L*s),t.lineTo(D*l+L*c,D*c-L*l),t.closePath()}},rn=[en,Vn,Kn,Qn,ei,si,ri];function an(t,n){let i=null,e=$t(o);t=typeof t=="function"?t:w(t||en),n=typeof n=="function"?n:w(n===void 0?64:+n);function o(){let s;if(i||(i=s=e()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),s)return i=null,s+""||null}return o.type=function(s){return arguments.length?(t=typeof s=="function"?s:w(s),o):t},o.size=function(s){return arguments.length?(n=typeof s=="function"?s:w(+s),o):n},o.context=function(s){return arguments.length?(i=s??null,o):i},o}function St(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function It(t,n){this._context=t,this._k=(1-n)/6}It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:St(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:St(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};(function t(n){function i(e){return new It(e,n)}return i.tension=function(e){return t(+e)},i})(0);function ai(t,n,i){var e=t._x1,o=t._y1,s=t._x2,a=t._y2;if(t._l01_a>Mt){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,o=(o*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Mt){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,_=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*h+t._x1*t._l23_2a-n*t._l12_2a)/_,a=(a*h+t._y1*t._l23_2a-i*t._l12_2a)/_}t._context.bezierCurveTo(e,o,s,a,t._x2,t._y2)}function ln(t,n){this._context=t,this._alpha=n}ln.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:ai(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const li=function t(n){function i(e){return n?new ln(e,n):new It(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Et(t){return t<0?-1:1}function Nt(t,n,i){var e=t._x1-t._x0,o=n-t._x1,s=(t._y1-t._y0)/(e||o<0&&-0),a=(i-t._y1)/(o||e<0&&-0),l=(s*o+a*e)/(e+o);return(Et(s)+Et(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function jt(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function pt(t,n,i){var e=t._x0,o=t._y0,s=t._x1,a=t._y1,l=(s-e)/3;t._context.bezierCurveTo(e+l,o+l*n,s-l,a-l*i,s,a)}function nt(t){this._context=t}nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pt(this,this._t0,jt(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,pt(this,jt(this,i=Nt(this,t,n)),i);break;default:pt(this,this._t0,i=Nt(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}};function cn(t){this._context=new hn(t)}(cn.prototype=Object.create(nt.prototype)).point=function(t,n){nt.prototype.point.call(this,n,t)};function hn(t){this._context=t}hn.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,e,o,s){this._context.bezierCurveTo(n,t,e,i,s,o)}};function Dt(t){return new nt(t)}function ci(t){return new cn(t)}function un(t){this._context=t}un.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),i===2)this._context.lineTo(t[1],n[1]);else for(var e=Lt(t),o=Lt(n),s=0,a=1;a<i;++s,++a)this._context.bezierCurveTo(e[0][s],o[0][s],e[1][s],o[1][s],t[a],n[a]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Lt(t){var n,i=t.length-1,e,o=new Array(i),s=new Array(i),a=new Array(i);for(o[0]=0,s[0]=2,a[0]=t[0]+2*t[1],n=1;n<i-1;++n)o[n]=1,s[n]=4,a[n]=4*t[n]+2*t[n+1];for(o[i-1]=2,s[i-1]=7,a[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=o[n]/s[n-1],s[n]-=e,a[n]-=e*a[n-1];for(o[i-1]=a[i-1]/s[i-1],n=i-2;n>=0;--n)o[n]=(a[n]-o[n+1])/s[n];for(s[i-1]=(t[i]+o[i-1])/2,n=0;n<i-1;++n)s[n]=2*t[n+1]-o[n+1];return[o,s]}function hi(t){return new un(t)}function ct(t,n){this._context=t,this._t=n}ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function ui(t){return new ct(t,.5)}function _i(t){return new ct(t,0)}function di(t){return new ct(t,1)}function fi(t){return Ut({d:t.d},{createInterpolator:(n,i)=>{const e=Xt(n.d,i.d);return o=>({d:e(o)})},applyProps:(n,{d:i})=>n.setAttribute("d",i),transformProps:n=>n,skip:t.skipAnimation,ref:t.ref})}function _n(t){return t.replace(" ","_")}Tn("line");const pi=Cn("line");function ht(){return pi()}function gi(){const t=Gt(),n=tt(t,$n),i=tt(t,vn);return{isHighlighted:n,isFaded:i}}function mi(t){return Ut({d:t.d},{createInterpolator:(n,i)=>{const e=Xt(n.d,i.d);return o=>({d:e(o)})},applyProps:(n,{d:i})=>n.setAttribute("d",i),skip:t.skipAnimation,transformProps:n=>n,ref:t.ref})}const dn=V("MuiAppearingMask",["animate"]),xi=Z("rect")({animationName:"animate-width",animationTimingFunction:At,animationDuration:"0s",[`&.${dn.animate}`]:{animationDuration:`${kt}ms`},"@keyframes animate-width":{from:{width:0}}});function fn(t){const n=In(),i=Yt(),e=_n(`${i}-${t.id}`);return f.jsxs(q.Fragment,{children:[f.jsx("clipPath",{id:e,children:f.jsx(xi,{className:t.skipAnimation?"":dn.animate,x:0,y:0,width:n.left+n.width+n.right,height:n.top+n.height+n.bottom})}),f.jsx("g",{clipPath:`url(#${e})`,children:t.children})]})}const yi=["skipAnimation","ownerState"];function ki(t){const{skipAnimation:n,ownerState:i}=t,e=H(t,yi),o=fi(t);return f.jsx(fn,{skipAnimation:n,id:`${i.id}-area-clip`,children:f.jsx("path",m({fill:i.gradientId?`url(#${i.gradientId})`:i.color,filter:i.isHighlighted?"brightness(140%)":i.gradientId?void 0:"brightness(120%)",opacity:i.isFaded?.3:1,stroke:"none"},e,o))})}const Ai=["id","classes","color","gradientId","slots","slotProps","onClick"];function Pi(t){return et("MuiAreaElement",t)}const Ci=V("MuiAreaElement",["root","highlighted","faded","series"]),Ti=t=>{const{classes:n,id:i,isFaded:e,isHighlighted:o}=t,s={root:["root",`series-${i}`,o&&"highlighted",e&&"faded"]};return it(s,Pi,n)};function $i(t){const{id:n,classes:i,color:e,gradientId:o,slots:s,slotProps:a,onClick:l}=t,c=H(t,Ai),h=ot({type:"line",seriesId:n}),{isFaded:_,isHighlighted:r}=Ot({seriesId:n}),u={id:n,classes:i,color:e,gradientId:o,isFaded:_,isHighlighted:r},d=Ti(u),p=(s==null?void 0:s.area)??ki,g=Ht({elementType:p,externalSlotProps:a==null?void 0:a.area,additionalProps:m({},h,{onClick:l,cursor:l?"pointer":"unset"}),className:d.root,ownerState:u});return f.jsx(p,m({},c,g))}function pn(t){switch(t){case"catmullRom":return li.alpha(.5);case"linear":return vt;case"monotoneX":return Dt;case"monotoneY":return ci;case"natural":return hi;case"step":return ui;case"stepBefore":return _i;case"stepAfter":return di;case"bumpY":return Zn;case"bumpX":return Bn;default:return Dt}}const vi=["slots","slotProps","onItemClick","skipAnimation"],Ii=Z("g",{name:"MuiAreaPlot",slot:"Root"})({[`& .${Ci.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}}),wi=()=>{const t=ht(),{xAxis:n,xAxisIds:i}=rt(),{yAxis:e,yAxisIds:o}=at(),s=Wt();return q.useMemo(()=>{if(t===void 0)return[];const{series:l,stackingGroups:c}=t,h=i[0],_=o[0];return c.flatMap(({ids:r})=>[...r].reverse().map(u=>{const{xAxisId:d=h,yAxisId:p=_,stackedData:g,data:C,connectNulls:k,baseline:x,curve:A,strictStepCurve:P}=l[u],v=n[d].scale,N=lt(v),b=e[p].scale,I=n[d].data,S=e[p].colorScale&&s(p)||n[d].colorScale&&s(d)||void 0,j=(A==null?void 0:A.includes("step"))&&!P&&qt(v),F=(I==null?void 0:I.flatMap((y,$)=>{const M=C[$]==null;if(j){const O=[{x:y,y:g[$],nullData:M,isExtension:!1}];return!M&&($===0||C[$-1]==null)&&O.unshift({x:(v(y)??0)-(v.step()-v.bandwidth())/2,y:g[$],nullData:M,isExtension:!0}),!M&&($===C.length-1||C[$+1]==null)&&O.push({x:(v(y)??0)+(v.step()+v.bandwidth())/2,y:g[$],nullData:M,isExtension:!0}),O}return{x:y,y:g[$],nullData:M}}))??[],G=k?F.filter(y=>!y.nullData):F,T=zn().x(y=>y.isExtension?y.x:N(y.x)).defined(y=>k||!y.nullData||!!y.isExtension).y0(y=>{if(typeof x=="number")return b(x);if(x==="max")return b.range()[1];if(x==="min")return b.range()[0];const $=y.y&&b(y.y[0]);return Number.isNaN($)?b.range()[0]:$}).y1(y=>y.y&&b(y.y[1])).curve(pn(A))(G)||"";return m({},l[u],{gradientId:S,d:T,seriesId:u})}))},[t,i,o,n,e,s])};function bi(t){const{slots:n,slotProps:i,onItemClick:e,skipAnimation:o}=t,s=H(t,vi),a=Pt(),l=Ct(a||o),c=wi();return f.jsx(Ii,m({},s,{children:c.map(({d:h,seriesId:_,color:r,area:u,gradientId:d})=>!!u&&f.jsx($i,{id:_,d:h,color:r,gradientId:d,slots:n,slotProps:i,onClick:e&&(p=>e(p,{type:"line",seriesId:_})),skipAnimation:l},_))}))}const Mi=["skipAnimation","ownerState"],Si=q.forwardRef(function(n,i){const{skipAnimation:e,ownerState:o}=n,s=H(n,Mi),a=mi(m({},n,{ref:i}));return f.jsx(fn,{skipAnimation:e,id:`${o.id}-line-clip`,children:f.jsx("path",m({stroke:o.gradientId?`url(#${o.gradientId})`:o.color,strokeWidth:2,strokeLinejoin:"round",fill:"none",filter:o.isHighlighted?"brightness(120%)":void 0,opacity:o.isFaded?.3:1},s,a))})}),Ei=["id","classes","color","gradientId","slots","slotProps","onClick"];function Ni(t){return et("MuiLineElement",t)}const ji=V("MuiLineElement",["root","highlighted","faded","series"]),Di=t=>{const{classes:n,id:i,isFaded:e,isHighlighted:o}=t,s={root:["root",`series-${i}`,o&&"highlighted",e&&"faded"]};return it(s,Ni,n)};function Li(t){const{id:n,classes:i,color:e,gradientId:o,slots:s,slotProps:a,onClick:l}=t,c=H(t,Ei),h=ot({type:"line",seriesId:n}),{isFaded:_,isHighlighted:r}=Ot({seriesId:n}),u={id:n,classes:i,color:e,gradientId:o,isFaded:_,isHighlighted:r},d=Di(u),p=(s==null?void 0:s.line)??Si,g=Ht({elementType:p,externalSlotProps:a==null?void 0:a.line,additionalProps:m({},h,{onClick:l,cursor:l?"pointer":"unset"}),className:d.root,ownerState:u});return f.jsx(p,m({},c,g))}const Hi=["slots","slotProps","skipAnimation","onItemClick"],Fi=Z("g",{name:"MuiAreaPlot",slot:"Root"})({[`& .${ji.root}`]:{transition:"opacity 0.2s ease-in, fill 0.2s ease-in"}}),Ri=()=>{const t=ht(),{xAxis:n,xAxisIds:i}=rt(),{yAxis:e,yAxisIds:o}=at(),s=Wt();return q.useMemo(()=>{if(t===void 0)return[];const{series:l,stackingGroups:c}=t,h=i[0],_=o[0];return c.flatMap(({ids:r})=>r.flatMap(u=>{const{xAxisId:d=h,yAxisId:p=_,stackedData:g,data:C,connectNulls:k,curve:x,strictStepCurve:A}=l[u],P=n[d].scale,v=lt(P),N=e[p].scale,b=n[d].data,I=e[p].colorScale&&s(p)||n[d].colorScale&&s(d)||void 0,S=(x==null?void 0:x.includes("step"))&&!A&&qt(P),j=(b==null?void 0:b.flatMap((T,y)=>{const $=C[y]==null;if(S){const M=[{x:T,y:g[y],nullData:$,isExtension:!1}];return!$&&(y===0||C[y-1]==null)&&M.unshift({x:(P(T)??0)-(P.step()-P.bandwidth())/2,y:g[y],nullData:$,isExtension:!0}),!$&&(y===C.length-1||C[y+1]==null)&&M.push({x:(P(T)??0)+(P.step()+P.bandwidth())/2,y:g[y],nullData:$,isExtension:!0}),M}return{x:T,y:g[y],nullData:$}}))??[],F=k?j.filter(T=>!T.nullData):j,R=tn().x(T=>T.isExtension?T.x:v(T.x)).defined(T=>k||!T.nullData||!!T.isExtension).y(T=>N(T.y[1])).curve(pn(x))(F)||"";return m({},l[u],{gradientId:I,d:R,seriesId:u})}))},[t,i,o,n,e,s])};function Ui(t){const{slots:n,slotProps:i,skipAnimation:e,onItemClick:o}=t,s=H(t,Hi),a=Pt(),l=Ct(a||e),c=Ri();return f.jsx(Fi,m({},s,{children:c.map(({d:h,seriesId:_,color:r,gradientId:u})=>f.jsx(Li,{id:_,d:h,color:r,gradientId:u,skipAnimation:l,slots:n,slotProps:i,onClick:o&&(d=>o(d,{type:"line",seriesId:_}))},_))}))}function Xi(t){return et("MuiMarkElement",t)}const gn=V("MuiMarkElement",["root","highlighted","faded","animate","series"]),mn=t=>{const{classes:n,id:i,isFaded:e,isHighlighted:o,skipAnimation:s}=t,a={root:["root",`series-${i}`,o&&"highlighted",e&&"faded",s?void 0:"animate"]};return it(a,Xi,n)},Gi=["x","y","id","classes","color","dataIndex","onClick","skipAnimation","isFaded","isHighlighted"],Yi=Z("circle")({[`&.${gn.animate}`]:{transitionDuration:`${kt}ms`,transitionProperty:"cx, cy",transitionTimingFunction:At}});function Oi(t){const{x:n,y:i,id:e,classes:o,color:s,dataIndex:a,onClick:l,skipAnimation:c,isFaded:h=!1,isHighlighted:_=!1}=t,r=H(t,Gi),u=kn(),d=ot({type:"line",seriesId:e,dataIndex:a}),g=mn({id:e,classes:o,isHighlighted:_,isFaded:h,skipAnimation:c});return f.jsx(Yi,m({},r,{cx:n,cy:i,r:5,fill:(u.vars||u).palette.background.paper,stroke:s,strokeWidth:2,className:g.root,onClick:l,cursor:l?"pointer":"unset"},d))}function xn(t){switch(t){case"circle":return 0;case"cross":return 1;case"diamond":return 2;case"square":return 3;case"star":return 4;case"triangle":return 5;case"wye":return 6;default:return 0}}const Wi=["x","y","id","classes","color","shape","dataIndex","onClick","skipAnimation","isFaded","isHighlighted"],qi=Z("path",{name:"MuiMarkElement",slot:"Root"})(({ownerState:t,theme:n})=>({fill:(n.vars||n).palette.background.paper,stroke:t.color,strokeWidth:2,[`&.${gn.animate}`]:{transitionDuration:`${kt}ms`,transitionProperty:"transform, transform-origin",transitionTimingFunction:At}}));function zi(t){const{x:n,y:i,id:e,classes:o,color:s,shape:a,dataIndex:l,onClick:c,skipAnimation:h,isFaded:_=!1,isHighlighted:r=!1}=t,u=H(t,Wi),d=ot({type:"line",seriesId:e,dataIndex:l}),p={id:e,classes:o,isHighlighted:r,isFaded:_,color:s,skipAnimation:h},g=mn(p);return f.jsx(qi,m({},u,{style:{transform:`translate(${n}px, ${i}px)`,transformOrigin:`${n}px ${i}px`},ownerState:p,className:g.root,d:an(rn[xn(a)])(),onClick:c,cursor:c?"pointer":"unset"},d))}const Bi=["slots","slotProps","skipAnimation","onItemClick"];function Zi(t){const{slots:n,slotProps:i,skipAnimation:e,onItemClick:o}=t,s=H(t,Bi),a=Pt(),l=Ct(a||e),c=ht(),{xAxis:h,xAxisIds:_}=rt(),{yAxis:r,yAxisIds:u}=at(),d=Yt(),{instance:p,store:g}=zt(),{isFaded:C,isHighlighted:k}=gi(),x=tt(g,Zt);if(c===void 0)return null;const{series:A,stackingGroups:P}=c,v=_[0],N=u[0];return f.jsx("g",m({},s,{children:P.flatMap(({ids:b})=>b.map(I=>{const{xAxisId:S=v,yAxisId:j=N,stackedData:F,data:G,showMark:R=!0,shape:T="circle"}=A[I];if(R===!1)return null;const y=lt(h[S].scale),$=r[j].scale,M=h[S].data;if(M===void 0)throw new Error(`MUI X Charts: ${S===Tt?"The first `xAxis`":`The x-axis with id "${S}"`} should have data property to be able to display a line plot.`);const O=_n(`${d}-${I}-line-clip`),ut=Bt(A[I],h[S],r[j]),_t=(n==null?void 0:n.mark)??(T==="circle"?Oi:zi),J=k({seriesId:I}),dt=!J&&C({seriesId:I});return f.jsx("g",{clipPath:`url(#${O})`,children:M==null?void 0:M.map((Y,X)=>{const E=G[X]==null?null:F[X][1];return{x:y(Y),y:E===null?null:$(E),position:Y,value:E,index:X}}).filter(({x:Y,y:X,index:E,position:z,value:B})=>B===null||X===null||!p.isPointInside(Y,X)?!1:R===!0?!0:R({x:Y,y:X,index:E,position:z,value:B})).map(({x:Y,y:X,index:E})=>f.jsx(_t,m({id:I,dataIndex:E,shape:T,color:ut(E),x:Y,y:X,skipAnimation:l,onClick:o&&(z=>o(z,{type:"line",seriesId:I,dataIndex:E})),isHighlighted:x===E||J,isFaded:dt},i==null?void 0:i.mark),`${I}-${E}`))},I)}))}))}const Vi=parseInt(q.version,10),Ji=["x","y","id","classes","color","shape"];function Ki(t){return et("MuiHighlightElement",t)}V("MuiHighlightElement",["root"]);const Qi=t=>{const{classes:n,id:i}=t,e={root:["root",`series-${i}`]};return it(e,Ki,n)};function te(t){const{x:n,y:i,color:e,shape:o}=t,s=H(t,Ji),a=Qi(t),l=o==="circle"?"circle":"path",c=o==="circle"?{cx:0,cy:0,r:s.r===void 0?5:s.r}:{d:an(rn[xn(o)])()},h=Vi>18?{transformOrigin:`${n} ${i}`}:{"transform-origin":`${n} ${i}`};return f.jsx(l,m({pointerEvents:"none",className:a.root,transform:`translate(${n} ${i})`,fill:e},h,c,s))}const ne=["slots","slotProps"];function ie(t){const{slots:n,slotProps:i}=t,e=H(t,ne),o=ht(),{xAxis:s,xAxisIds:a}=rt(),{yAxis:l,yAxisIds:c}=at(),{instance:h}=zt(),_=Gt(),r=tt(_,Zt);if(r===null||o===void 0)return null;const{series:u,stackingGroups:d}=o,p=a[0],g=c[0],C=(n==null?void 0:n.lineHighlight)??te;return f.jsx("g",m({},e,{children:d.flatMap(({ids:k})=>k.flatMap(x=>{const{xAxisId:A=p,yAxisId:P=g,stackedData:v,data:N,disableHighlight:b,shape:I="circle"}=u[x];if(b||N[r]==null)return null;const S=lt(s[A].scale),j=l[P].scale,F=s[A].data;if(F===void 0)throw new Error(`MUI X Charts: ${A===Tt?"The first `xAxis`":`The x-axis with id "${A}"`} should have data property to be able to display a line plot.`);const G=S(F[r]),R=j(v[r][1]);if(!h.isPointInside(G,R))return null;const T=Bt(u[x],s[A],l[P]);return f.jsx(C,m({id:x,color:T(r),x:G,y:R,shape:I},i==null?void 0:i.lineHighlight),`${x}`)}))}))}const ee=[wn,bn,Mn,Sn],se=["xAxis","yAxis","series","width","height","margin","colors","dataset","sx","onAreaClick","onLineClick","onMarkClick","axisHighlight","disableLineItemHighlight","hideLegend","grid","children","slots","slotProps","skipAnimation","loading","highlightedItem","onHighlightChange","className","showToolbar"],oe=t=>{var E,z,B,wt,bt;const{xAxis:n,yAxis:i,series:e,width:o,height:s,margin:a,colors:l,dataset:c,sx:h,onAreaClick:_,onLineClick:r,onMarkClick:u,axisHighlight:d,disableLineItemHighlight:p,grid:g,children:C,slots:k,slotProps:x,skipAnimation:A,loading:P,highlightedItem:v,onHighlightChange:N,className:b}=t,I=H(t,se),j=`${An()}-clip-path`,F=q.useMemo(()=>e.map(K=>m({disableHighlight:!!p,type:"line"},K)),[p,e]),G=m({},I,{series:F,width:o,height:s,margin:a,colors:l,dataset:c,xAxis:n??[{id:Tt,scaleType:"point",data:Array.from({length:Math.max(...e.map(K=>(K.data??c??[]).length))},(K,yn)=>yn)}],yAxis:i,highlightedItem:v,onHighlightChange:N,disableAxisListener:((E=x==null?void 0:x.tooltip)==null?void 0:E.trigger)!=="axis"&&(d==null?void 0:d.x)==="none"&&(d==null?void 0:d.y)==="none",className:b,skipAnimation:A,plugins:ee}),R={vertical:g==null?void 0:g.vertical,horizontal:g==null?void 0:g.horizontal},T={clipPath:`url(#${j})`},y={id:j},$={slots:k,slotProps:x,onItemClick:_},M={slots:k,slotProps:x,onItemClick:r},O={slots:k,slotProps:x,onItemClick:u,skipAnimation:A},ut={slots:k,slotProps:x,loading:P},_t={slots:k,slotProps:x},J=m({x:"line"},d),dt={slots:k,slotProps:x},Y={slots:k,slotProps:x};return{chartsWrapperProps:{sx:h,legendPosition:(B=(z=t.slotProps)==null?void 0:z.legend)==null?void 0:B.position,legendDirection:(bt=(wt=t.slotProps)==null?void 0:wt.legend)==null?void 0:bt.direction},chartContainerProps:G,gridProps:R,clipPathProps:y,clipPathGroupProps:T,areaPlotProps:$,linePlotProps:M,markPlotProps:O,overlayProps:ut,chartsAxisProps:_t,axisHighlightProps:J,lineHighlightPlotProps:dt,legendProps:Y,children:C}},re=q.forwardRef(function(n,i){var N,b,I,S;const e=En({props:n,name:"MuiLineChart"}),{chartsWrapperProps:o,chartContainerProps:s,gridProps:a,clipPathProps:l,clipPathGroupProps:c,areaPlotProps:h,linePlotProps:_,markPlotProps:r,overlayProps:u,chartsAxisProps:d,axisHighlightProps:p,lineHighlightPlotProps:g,legendProps:C,children:k}=oe(e),{chartDataProviderProps:x,chartsSurfaceProps:A}=Nn(s,i),P=((N=e.slots)==null?void 0:N.tooltip)??jn,v=(b=e.slots)==null?void 0:b.toolbar;return f.jsx(Dn,m({},x,{children:f.jsxs(Ln,m({},o,{children:[e.showToolbar&&v?f.jsx(v,m({},(I=e.slotProps)==null?void 0:I.toolbar)):null,!e.hideLegend&&f.jsx(Hn,m({},C)),f.jsxs(Fn,m({},A,{children:[f.jsx(Rn,m({},a)),f.jsxs("g",m({},c,{children:[f.jsx(bi,m({},h)),f.jsx(Ui,m({},_)),f.jsx(Un,m({},u)),f.jsx(Xn,m({},p))]})),f.jsx(Gn,m({},d)),f.jsx("g",{"data-drawing-container":!0,children:f.jsx(Zi,m({},r))}),f.jsx(ie,m({},g)),f.jsx(Yn,m({},l)),k]})),!e.loading&&f.jsx(P,m({},(S=e.slotProps)==null?void 0:S.tooltip))]}))}))});function ce({activeUsers:t}){const{xData:n,yData:i}=t.reduce((e,o)=>(e.xData.push(Date.parse(o.timeBucket)),e.yData.push(o.value),e),{xData:[],yData:[]});return f.jsx(Pn,{className:"grow-1 drop-shadow-lg",children:f.jsx(re,{xAxis:[{data:n,valueFormatter:e=>new Date(e).toLocaleDateString()}],series:[{data:i}],height:300})})}export{ce as default};
